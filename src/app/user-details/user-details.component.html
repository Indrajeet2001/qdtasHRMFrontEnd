<div class="container-fluid g-0">
    <app-header> </app-header>

    <main>
        <app-sidenav (toggle)="onToggleSidebar($event)"></app-sidenav>

        <div class="display-area" [ngClass]="{'expanded': isSidebarExpanded, 'collapsed': !isSidebarExpanded}">
            <div class="myinfo">

                <div *ngIf="successMessage" class="success-message">
                    {{ successMessage }}
                    <mat-icon class="close-icon" (click)="dismissSuccessMessage()">close</mat-icon>
                </div>

                <div *ngIf="errorMessage" class="error-message-notification">
                    {{ errorMessage }}
                    <mat-icon class="close-icon" (click)="dismissErrorMessage()">close</mat-icon>
                </div>



                <div class="card">
                    <div class="card-img-container">
                        <img [src]="isMale()" alt="Profile Image" class="card-img">
                    </div>
                    <div class="container p-2">
                        <form class="myinform">
                            <div class="inp-row">
                                <h2 class="title mb-3">Personal Details</h2>
                                <mat-divider class="custom-divider"></mat-divider>
                                <div class="inp-field">
                                    <div class="inp">
                                        <label class="form-label">User Name</label>
                                        <h6 class="colan">:</h6>
                                        <div *ngIf=" userDetails">
                                            <H6 class="form-name">{{userDetails.userName}}</H6>
                                        </div>
                                    </div>

                                    <div class="inp">
                                        <label class="form-label">First Name</label>
                                        <h6 class="colan">:</h6>
                                        <div *ngIf="userDetails">
                                            <H6 class="form-name">{{userDetails.firstName}}</H6>
                                        </div>
                                    </div>
                                    <div class="inp">
                                        <label class="form-label">Middle Name</label>
                                        <h6 class="colan">:</h6>
                                        <div *ngIf=" userDetails">
                                            <H6 class="form-name">{{userDetails.middleName}}</H6>
                                        </div>
                                    </div>

                                </div>
                                <div class="inp-field">
                                    <div class="inp">
                                        <label class="form-label">Last Name</label>
                                        <h6 class="colan">:</h6>
                                        <div *ngIf=" userDetails">
                                            <H6 class="form-name">{{userDetails.lastName}}</H6>
                                        </div>
                                    </div>
                                    <div class="inp">
                                        <label class="form-label">User-ID</label>
                                        <h6 class="colan">:</h6>
                                        <div *ngIf="userDetails">
                                            <H6 class="form-name">{{userDetails.userId}}</H6>
                                        </div>
                                    </div>
                                    <div class="inp">
                                        <label class="form-label">Email</label>
                                        <h6 class="colan">:</h6>
                                        <div *ngIf="userDetails">
                                            <H6 class="form-name">{{userDetails.email}}</H6>
                                        </div>
                                    </div>

                                </div>

                                <div class="inp-field">
                                    <div class="inp">
                                        <label class="form-label">Gender</label>
                                        <h6 class="colan">:</h6>
                                        <div *ngIf="userDetails">
                                            <H6 class="form-name">{{userDetails.gender}}</H6>
                                        </div>
                                    </div>
                                    <div class="inp">
                                        <label class="form-label">Date of Birth</label>
                                        <h6 class="colan">:</h6>
                                        <div *ngIf="userDetails">
                                            <H6 class="form-name">{{userDetails.birthDate}}</H6>
                                        </div>
                                    </div>

                                    <div class="inp">
                                        <label class="form-label">Phone</label>
                                        <h6 class="colan">:</h6>
                                        <div *ngIf="userDetails">
                                            <H6 class="form-name">{{userDetails.phoneNumber}}</H6>
                                        </div>
                                    </div>
                                </div>

                                <div class="inp-field">
                                    <div class="inp">
                                        <label class="form-label">Role</label>
                                        <h6 class="colan">:</h6>
                                        <div *ngIf="userDetails">
                                            <H6 class="form-name">{{userDetails.role}}</H6>
                                        </div>
                                    </div>


                                    <div class="inp">
                                        <label class="form-label">Job Title</label>
                                        <h6 class="colan">:</h6>
                                        <div *ngIf="userDetails">
                                            <H6 class="form-name">{{userDetails.jobId?.jobName}}</H6>
                                        </div>
                                    </div>
                                    <div class="inp">
                                        <label class="form-label">Job Category</label>
                                        <h6 class="colan">:</h6>
                                        <div *ngIf="userDetails">
                                            <H6 class="form-name">{{userDetails.jobCategoryId?.jobCategoryName}}</H6>
                                        </div>
                                    </div>
                                </div>
                                <div class="inp-field">
                                    <div class="inp">
                                        <label class="form-label">Emp Status</label>
                                        <h6 class="colan">:</h6>
                                        <div *ngIf="userDetails">
                                            <H6 class="form-name">
                                                {{userDetails.employmentStatusId?.employmentStatusName}}</H6>
                                        </div>
                                    </div>


                                    <div class="inp">
                                        <label class="form-label">Department</label>
                                        <h6 class="colan">:</h6>
                                        <div *ngIf="userDetails">
                                            <H6 class="form-name">{{userDetails.dept?.deptName}}</H6>
                                        </div>
                                    </div>
                                    <div class="inp">
                                        <label class="form-label">Address</label>
                                        <h6 class="colan">:</h6>
                                        <div *ngIf="userDetails">
                                            <H6 class="form-name">{{userDetails.address}}</H6>
                                        </div>
                                    </div>
                                </div>

                                <div class="inp-field">
                                    <div class="inp">
                                        <label class="form-label">Sub Role</label>
                                        <h6 class="colan">:</h6>
                                        <div *ngIf="userDetails">
                                            <H6 class="form-name">{{userDetails.subRole}}</H6>
                                        </div>
                                    </div>
                                    </div>

                
                                <div *ngIf="isLoggedIn?.role !== 'ROLE_USER'">
                                    <div class="col text-end suv-btn">
                                        <button class="btn btn-maroon" type="submit"
                                            (click)="openEidtUser(userDetails.userId)">Edit</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>