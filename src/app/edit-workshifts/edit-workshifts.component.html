<div class="adduser">
    <div class="cardd">
        <div class="container p-2">
            <form class="genrealInfo" #workShiftData="ngForm" (submit)="updateShifts(workShiftData.value)">
                <div class="inp-row">
                    <h2 class="title mb-3">Workshifts</h2>
                        <span class="close" (click)="dismissDialogBox()">&times;</span>
                    <div class="inp-field">
                        <div class="inp">
                            <label class="form-label">Shift Name</label>
                            <input type="text" class="form-control" id="workShiftName" ngModel="" required   [(ngModel)]="shiftData.workShiftName"
                                name="workShiftName" #workShiftName="ngModel" pattern="^[A-Za-z\s]+$"
                                [ngClass]="{'invalid': workShiftName.invalid && (workShiftName.dirty || workShiftName.touched), 'valid': workShiftName.valid && (workShiftName.dirty ||workShiftName.touched)}">

                            <div *ngIf="workShiftName.invalid && (workShiftName.dirty || workShiftName.touched)" class="error-message">
                                <span *ngIf="workShiftName.errors?.['required']">Please enter shift name</span>
                                <span *ngIf="workShiftName.errors?.['pattern']">Please enter only alphabets</span>
                            </div>
                        </div>
                    </div>

                    <!-- <div class="inp-field">
                        <div class="inp">
                            <label class="form-label">Start time</label>
                            <input type="time" class="form-control" id="startTime" ngModel="" required name="startTime"  [(ngModel)]="shiftData.startTime"
                                #startTime="ngModel" 
                                [ngClass]="{'invalid': startTime.invalid && (startTime.dirty || startTime.touched), 'valid': startTime.valid && (startTime.dirty ||startTime.touched)}">
                            <div *ngIf="startTime.invalid && (startTime.dirty || startTime.touched)" class="error-message">
                                <span *ngIf="workShiftName.errors?.['required']">Please enter start time</span>
                            </div>
                        </div>

                    </div>


                    <div class="inp-field">
                        <div class="inp">
                            <label class="form-label">End time</label>
                            <input type="time" class="form-control" id="endTime" ngModel="" required name="endTime"  [(ngModel)]="shiftData.endTime"
                                #endTime="ngModel"
                                [ngClass]="{'invalid': endTime.invalid && (endTime.dirty || endTime.touched), 'valid': endTime.valid && (endTime.dirty || endTime.touched)}">

                            <div *ngIf="endTime.invalid && (endTime.dirty || endTime.touched)" class="error-message">
                                <span *ngIf="workShiftName.errors?.['required']">Please enter end time</span>
                            </div>
                        </div>
                    </div> -->


                                    <div class="inp-field">
                                        <div class="inp">
                                            <label class="form-label">Start Time</label>
                                            <input type="time" class="form-control" id="startTime" ngModel="" required name="startTime" #startTime="ngModel"  [(ngModel)]="shiftData.startTime"
                                                [ngClass]="{'invalid': startTime.invalid && (startTime.dirty || startTime.touched), 'valid': startTime.valid && (startTime.dirty || startTime.touched)}">
                                            <div *ngIf="startTime.invalid && (startTime.dirty || startTime.touched)" class="error-message">
                                                <span *ngIf="startTime.errors?.['required']">Please enter start time</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="inp-field">
                                        <div class="inp">
                                            <label class="form-label">End Time</label>
                                            <input type="time" class="form-control" id="endTime" ngModel="" required name="endTime" #endTime="ngModel"  [(ngModel)]="shiftData.endTime"
                                                [ngClass]="{'invalid': endTime.invalid && (endTime.dirty || endTime.touched) || isEndTimeInvalid(startTime.value, endTime.value), 'valid': endTime.valid && (endTime.dirty || endTime.touched) && !isEndTimeInvalid(startTime.value, endTime.value)}">
                                            <div *ngIf="endTime.invalid && (endTime.dirty || endTime.touched)" class="error-message">
                                                <span *ngIf="endTime.errors?.['required']">Please enter end time</span>
                                            </div>
                                            <div *ngIf="isEndTimeInvalid(startTime.value, endTime.value)" class="error-message">
                                                <span>End time must not be earlier than start time</span>
                                            </div>
                                        </div>
                                    </div>



                    <div class="col text-end suv-btn">
                        <button class="btn btn-maroon" (click)="dismissDialogBox()">Cancel</button>
                        <button class="btn btn-maroon" type="submit" [disabled]="!workShiftData.valid"  >Submit</button>
                    </div>


                    <div>


                    </div>

                </div>
            </form>
        </div>
    </div>



</div>